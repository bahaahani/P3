<div class="container">
  <h2>Payment</h2>
  <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Name on Card</label>
      <input type="text" id="name" formControlName="name" class="form-control" [ngClass]="{ 'is-invalid': paymentForm.get('name').touched && paymentForm.get('name').invalid }">
      <div *ngIf="paymentForm.get('name').touched && paymentForm.get('name').invalid" class="invalid-feedback">
        Name is required
      </div>
    </div>
    <div class="form-group">
      <label for="amount">Amount (USD)</label>
      <input type="number" id="amount" formControlName="amount" class="form-control" [ngClass]="{ 'is-invalid': paymentForm.get('amount').touched && paymentForm.get('amount').invalid }">
      <div *ngIf="paymentForm.get('amount').touched && paymentForm.get('amount').invalid" class="invalid-feedback">
        Amount is required and must be at least 1
      </div>
    </div>
    <div class="form-group">
      <label>Card Details</label>
      <div #cardElement class="form-control"></div>
      <div *ngIf="cardErrors" class="text-danger mt-2">{{ cardErrors }}</div>
    </div>
    <label for="cardNumber" class="block text-sm font-medium text-gray-700">Card Number</label>
    <input id="cardNumber" formControlName="cardNumber" aria-label="Card Number" class="mt-1 block w-full" />
    <button type="submit" class="btn btn-primary" [disabled]="loading || paymentForm.invalid">
      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
      Pay Now
    </button>
  </form>
  <div *ngIf="success" class="alert alert-success mt-3">
    Payment successful!
  </div>
  <div *ngIf="error" class="alert alert-danger mt-3">
    {{ error }}
  </div>
</div>